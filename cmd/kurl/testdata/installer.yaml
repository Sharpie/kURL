apiVersion: cluster.kurl.sh/v1beta1
kind: Installer
metadata:
  name: testing
spec:
  kurl:
    hostpreflights:
      collectors:
        - cpu: {}
        - diskUsage:
            collectorName: "Ephemeral Disk Usage /var/lib/kubelet"
            exclude: true
      analyzers:
        - cpu:
            checkName: Hhhh Number of CPUs
            outcomes:
              - warn:
                  when: count < 4
                  message: At least 4 CPU cores are recommended
              - fail:
                  when: count < 2
                  message: At least 2 CPU cores are required, and 4 CPU cores are recommended
              - pass:
                  message: This server has at least 4 CPU cores
  kubernetes:
    version: 1.19.3
  weave:
    version: 2.7.0
  containerd:
    version: 1.4.3
